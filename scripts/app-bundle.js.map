{"version":3,"sources":["environment.ts","D:/Projects/aurelia-modules-example/src/aurelia-modules/module.models.js","main.ts","aurelia-modules/module.manager.ts","aurelia-modules/base-aurelia-module.ts","aurelia-modules/module.decorator.ts","aurelia-modules/index.ts","main-app/resources/iterable-repeat-strategy.ts","main-app/index.ts","main-app/pages/home.ts","main-app/resources/iterable-value-converter.ts"],"names":[],"mappings":"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","file":"app-bundle.js","sourcesContent":["export default {\n  debug: true,\n  testing: true\n};\n",null,"import {Aurelia} from 'aurelia-framework'\nimport environment from './environment';\nimport {IModuleConfiguration} from \"./aurelia-modules/module.models\";\n\n//Configure Bluebird Promises.\n(<any>Promise).config({\n  warnings: {\n    wForgottenReturn: false\n  }\n});\n\nexport function configure(aurelia: Aurelia) {\n  const moduleConfiguration: IModuleConfiguration = {\n    module: \"main-app\",\n    identifier: \"official-main-app\",\n    title: \"App entry point\",\n    children: [\n      {\n        module: \"main-app\",\n        identifier: \"second-main-app-2\",\n        title: \"second App entry point in second\",\n        children: [{\n          module: \"main-app\",\n          identifier: \"third-main-app\",\n          title: \"third App entry point\",\n          children: []\n        }]\n      },\n      {\n        module: \"main-app\",\n        identifier: \"second-main-app\",\n        title: \"second App entry point\",\n        route: \"alternate-route-to-module\",\n        children: [{\n          module: \"main-app\",\n          identifier: \"third-main-app\",\n          title: \"third App entry point\",\n          children: []\n        }]\n      }\n    ]\n  };\n\n  aurelia.use\n    .standardConfiguration()\n    .feature('main-app')\n    .feature('aurelia-modules', moduleConfiguration)\n\n\n  if (environment.debug) {\n    aurelia.use.developmentLogging();\n  }\n\n  if (environment.testing) {\n    aurelia.use.plugin('aurelia-testing');\n  }\n\n  aurelia.start().then(() =>\n    aurelia.setRoot(\"main-app/index\", document.body));\n}\n","import {\n  IRegisteredModule,\n  IAureliaModule,\n  IModuleConfiguration,\n  InstancedModule,\n  AureliaModuleInitializer\n} from \"./module.models\";\nimport {RouteConfig} from \"aurelia-router\";\n\nexport class ModuleManager {\n  private static registeredModules: IRegisteredModule[] = [];\n\n  public static fullModuleConfiguration: IModuleConfiguration;\n\n  public static registerModule(name: string,routes: RouteConfig[], module: AureliaModuleInitializer, asPlugin: boolean = false): void {\n    this.registeredModules.push({name, module,routes, asPlugin: false});\n  }\n\n  public registerModule(name: string,routes: RouteConfig[], module: AureliaModuleInitializer, asPlugin: boolean = false): void {\n    ModuleManager.registerModule(name, routes,module, asPlugin);\n  }\n\n  public getModuleConfiguration(name?: string, config?: IModuleConfiguration): IModuleConfiguration {\n    if (!config) {\n      return ModuleManager.fullModuleConfiguration;\n\n    }\n    if (name) {\n      return config.children.find((moduleConfig: IModuleConfiguration) => {\n        return moduleConfig.module === name;\n      })\n    } else {\n      return config[0];\n    }\n  }\n\n  public getModule(module: string): IRegisteredModule {\n    return ModuleManager.registeredModules.find((registeredModule: IRegisteredModule) => {\n      return registeredModule.name === module;\n    });\n  }\n\n  public getInstancedModule(moduleName:string, config?: IModuleConfiguration):InstancedModule{\n    const registeredModule = this.getModule(moduleName);\n    const moduleConfig = this.getModuleConfiguration(moduleName, config);\n    if (registeredModule) {\n      return {\n          module: registeredModule,\n          config: moduleConfig\n        };\n    }\n    return null;\n  }\n\n  public getChildModules(moduleConfiguration: IModuleConfiguration): InstancedModule[] {\n    let result: InstancedModule[] = [];\n    if (moduleConfiguration.children && moduleConfiguration.children.length > 0) {\n      for (let childModule of moduleConfiguration.children) {\n        const module = this.getModule(childModule.module);\n        if (module) {\n          result.push(\n            {\n              module: module,\n              config: childModule\n            }\n          );\n        }\n      }\n    }\n    return result;\n  }\n}\n\n","import {ModuleManager} from \"./module.manager\";\nimport {RouteMapper} from \"aurelia-route-mapper\";\nimport {RouteConfig, Router, RouterConfiguration} from \"aurelia-router\";\nimport {IAureliaModule, IModuleConfiguration, InstancedModule} from \"./module.models\";\nimport {autoinject} from \"aurelia-dependency-injection\";\n\n\nfunction getChildModuleRoute(moduleManager: ModuleManager, childModule: InstancedModule):RouteConfig{\n  const childrenConfiguration: IModuleConfiguration[] = childModule.config.children;\n  let childModuleRoutes: RouteConfig[] = [];\n  childrenConfiguration.forEach((childConfig: IModuleConfiguration)=>{\n    moduleManager.getChildModules(childConfig).forEach((childModuleOfChildConfig: InstancedModule)=>{\n      childModuleRoutes.push(getChildModuleRoute(moduleManager, childModuleOfChildConfig));\n    });\n  });\n\n  return {\n    name: childModule.config.identifier || childModule.config.module,\n    title: childModule.config.title || childModule.config.module,\n    route: childModule.config.route || childModule.config.module ,\n    nav: true,\n    moduleId: childModule.module.asPlugin? childModule.module.name : `../${childModule.module.name}/index`,\n    settings: {\n      moduleConfig: childModule.config,\n      childRoutes: [...childModule.module.routes, ...childModuleRoutes ]\n    }\n  };\n}\n\n@autoinject()\nexport abstract class BaseAureliaModule implements IAureliaModule {\n  public router: Router;\n  // protected moduleConfiguration: IModuleConfiguration;\n  protected instancedModule: InstancedModule;\n\n  constructor(public routeMapper: RouteMapper, private moduleManager: ModuleManager) {\n  }\n\n  public abstract getModuleName(): string;\n\n  public getRoutes(): RouteConfig[] {\n    return [...this.childModuleRoutes, ...this.instancedModule?this.instancedModule.module.routes:[]];\n  };\n\n  public get childModules(): InstancedModule[] {\n    return this.moduleManager.getChildModules(this.instancedModule.config)\n  };\n\n  public get childModuleRoutes(): RouteConfig[] {\n    let result: RouteConfig[] = [];\n    this.childModules.forEach((childModule: InstancedModule) => {\n      const route = childModule.config.route || childModule.config.module;\n      result.push({\n        name: childModule.config.identifier || childModule.config.module,\n        title: childModule.config.title || childModule.config.module,\n        route: route,\n        nav: true,\n        moduleId: childModule.module.asPlugin? childModule.module.name : `../${childModule.module.name}/index`,\n        settings: {\n          instancedModule: childModule,\n          childRoutes: [getChildModuleRoute(this.moduleManager, childModule)]\n        }\n      });\n    });\n    return result;\n  }\n\n  public configureRouter(routerConfiguration: RouterConfiguration,\n                         router: Router,\n                         params: Object,\n                         routeConfig?: RouteConfig): void {\n    this.setModuleConfiguration(routeConfig);\n    if(routerConfiguration) {\n      const routes = this.getRoutes();\n      routerConfiguration.map(routes);\n      this.routeMapper.map(routes)\n    }\n    this.router = router;\n  }\n\n  private setModuleConfiguration(routeConfig?:RouteConfig){\n    if (routeConfig && routeConfig.settings.instancedModule) {\n      this.instancedModule = routeConfig.settings.instancedModule;\n    }else{\n      this.instancedModule = this.moduleManager.getInstancedModule(this.getModuleName())\n    }\n  }\n\n\n}\n","import {ModuleManager} from \"./module.manager\";\nimport {RouteConfig} from \"aurelia-router\";\n\nexport function module<T>(name: string, routes: RouteConfig[] = []): ClassDecorator {\n  return <AureliaModuleInitializer>(target: AureliaModuleInitializer) => {\n    if (target) {\n      ModuleManager.registerModule(name, routes, <any>target);\n    }\n    return target;\n  }\n}\n","import {FrameworkConfiguration} from \"aurelia-framework\";\nimport {IModuleConfiguration} from \"./module.models\";\nimport {ModuleManager} from \"./module.manager\";\nexport * from \"./base-aurelia-module\";\nexport * from \"./module.decorator\";\nexport * from \"./module.manager\";\nexport * from \"./module.models\";\n\n\nexport function configure(config: FrameworkConfiguration, moduleConfiguration: IModuleConfiguration ){\n  ModuleManager.fullModuleConfiguration = moduleConfiguration;\n}\n","import {createFullOverrideContext} from \"aurelia-templating-resources\";\n\nexport class IteratorStrategy {\n  instanceChanged(repeat: any, items: any): void {\n    let removePromise = repeat.viewSlot.removeAll(true);\n    if (removePromise instanceof Promise) {\n      removePromise.then(() => this._standardProcessItems(repeat, items));\n      return;\n    }\n    this._standardProcessItems(repeat, items);\n  }\n\n  _standardProcessItems(repeat, items) {\n    let index = 0;\n    for (let [key, value] of items) {\n      let overrideContext = createFullOverrideContext(repeat, value, index, undefined, key);\n      let view = repeat.viewFactory.create();\n      view.bind(overrideContext.bindingContext, overrideContext);\n      repeat.viewSlot.add(view);\n      ++index;\n    }\n  }\n\n  instanceMutated(repeat: any, items: any, changes: any): void {\n  }\n\n  getCollectionObserver(observerLocator: any, items: any): any {\n  }\n}\n\n\n","import {RouteConfig} from \"aurelia-router\";\nimport {autoinject} from \"aurelia-dependency-injection\";\nimport {FrameworkConfiguration} from \"aurelia-framework\";\nimport {BaseAureliaModule, module} from \"../aurelia-modules/index\";\n\nconst routes: RouteConfig[] = [{\n  name: \"home\",\n  title: \"home\",\n  route: \"/\",\n  nav: true,\n  moduleId: \"./pages/home\"\n}];\n\n@autoinject()\n@module(\"main-app\", routes)\nexport class MainApplication extends BaseAureliaModule {\n  public getModuleName(): string {\n    return \"main-app\";\n  }\n}\n\nexport function configure(config: FrameworkConfiguration) {\n  config.globalResources('./resources/iterable-value-converter');\n}\n\n","export class Home{\n\n}\n","export class IterableValueConverter {\n  toView(obj) {\n    // Create a temporary array to populate with object keys\n    let temp = [];\n\n    // A basic for..in loop to get object properties\n    // https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Statements/for...in\n    for (let prop in obj) {\n        temp.push(prop);\n    }\n    return temp;\n  }\n}\n"],"sourceRoot":"../src"}